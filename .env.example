# ===========================================
# Compere Backend Configuration
# ===========================================
# Copy this file to .env and customize values
# All variables have sensible defaults for development

# --- Database ---
# SQLite (default, good for development):
DATABASE_URL=sqlite:///./compere.db

# PostgreSQL (recommended for production):
# DATABASE_URL=postgresql://user:password@localhost:5432/compere

# MySQL:
# DATABASE_URL=mysql://user:password@localhost:3306/compere

# --- Elo Rating System ---
# K-factor determines rating volatility (higher = more volatile)
ELO_K_FACTOR=32.0
# Starting rating for new entities
ELO_INITIAL_RATING=1500.0

# --- UCB/MAB Algorithm ---
# Exploration constant (sqrt(2) is theoretically optimal)
UCB_EXPLORATION_CONSTANT=1.414
# Weight for unexplored entities (higher = more exploration)
UCB_UNEXPLORED_WEIGHT=1000.0

# --- Entity Pairing (weights should sum to 1.0) ---
# Weight for UCB-based selection
PAIRING_UCB_WEIGHT=0.3
# Weight for similarity-based selection
PAIRING_SIMILARITY_WEIGHT=0.4
# Weight for random selection (prevents staleness)
PAIRING_RANDOM_WEIGHT=0.3
# Rating difference threshold for "similar" entities
PAIRING_RATING_THRESHOLD=200.0
# Number of recent comparisons to exclude from pairing
RECENT_COMPARISON_LIMIT=5

# --- Security (REQUIRED for production) ---
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Leave empty for development (auth will be disabled)
SECRET_KEY=

# Enable JWT authentication (requires SECRET_KEY)
AUTH_ENABLED=false

# Token expiration time in minutes
ACCESS_TOKEN_EXPIRE_MINUTES=30

# --- CORS Configuration ---
# Comma-separated list of allowed origins
# In development: defaults to ["*"] (all origins allowed)
# In production: must be explicitly set, e.g.:
# CORS_ORIGINS=https://myapp.com,https://admin.myapp.com
CORS_ORIGINS=

# --- Rate Limiting ---
# Enable rate limiting (recommended for production)
RATE_LIMIT_ENABLED=false
# Maximum requests per window
RATE_LIMIT_REQUESTS=100
# Rate limit window in seconds
RATE_LIMIT_WINDOW=60

# --- Logging ---
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
# Enable request logging middleware
LOG_REQUESTS=true

# --- Environment ---
# Environment type: development, staging, production
# Affects error message verbosity and default CORS behavior
ENVIRONMENT=development
